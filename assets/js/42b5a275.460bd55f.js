"use strict";(globalThis.webpackChunkphysical_humanoid_ai_book=globalThis.webpackChunkphysical_humanoid_ai_book||[]).push([[951],{8188(n,e,i){i.r(e),i.d(e,{assets:()=>t,contentTitle:()=>a,default:()=>m,frontMatter:()=>s,metadata:()=>l,toc:()=>d});const l=JSON.parse('{"id":"module1-ros2/chapter3-urdf-modeling","title":"Chapter 3: URDF for Humanoid Robot Description and Modeling","description":"Learning Objectives","source":"@site/docs/module1-ros2/chapter3-urdf-modeling.md","sourceDirName":"module1-ros2","slug":"/module1-ros2/chapter3-urdf-modeling","permalink":"/docs/module1-ros2/chapter3-urdf-modeling","draft":false,"unlisted":false,"editUrl":"https://github.com/alizah-fatima/physical-humanoid-ai-book/tree/main/docs/module1-ros2/chapter3-urdf-modeling.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Chapter 2: Building ROS 2 Packages with Python and Bridging to AI Agents","permalink":"/docs/module1-ros2/chapter2-python-packages"},"next":{"title":"Chapter 1: Introduction to Gazebo - Physics Simulation for Humanoid Robotics","permalink":"/docs/module2-digital-twin/chapter1-gazebo-intro"}}');var r=i(4848),o=i(8453);const s={sidebar_position:3},a="Chapter 3: URDF for Humanoid Robot Description and Modeling",t={},d=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Introduction to URDF",id:"introduction-to-urdf",level:2},{value:"URDF Structure and Components",id:"urdf-structure-and-components",level:2},{value:"Basic URDF Structure",id:"basic-urdf-structure",level:3},{value:"Links",id:"links",level:3},{value:"Joints",id:"joints",level:3},{value:"Joint Types",id:"joint-types",level:2},{value:"1. Fixed Joint",id:"1-fixed-joint",level:3},{value:"2. Revolute Joint",id:"2-revolute-joint",level:3},{value:"3. Continuous Joint",id:"3-continuous-joint",level:3},{value:"4. Prismatic Joint",id:"4-prismatic-joint",level:3},{value:"Visual and Collision Elements",id:"visual-and-collision-elements",level:2},{value:"Visual Elements",id:"visual-elements",level:3},{value:"Collision Elements",id:"collision-elements",level:3},{value:"Inertial Properties",id:"inertial-properties",level:2},{value:"Complete URDF Example - Simple Robot",id:"complete-urdf-example---simple-robot",level:2},{value:"Humanoid Robot URDF Modeling",id:"humanoid-robot-urdf-modeling",level:2},{value:"Humanoid Robot Structure",id:"humanoid-robot-structure",level:3},{value:"Humanoid Torso Example",id:"humanoid-torso-example",level:3},{value:"Humanoid Head Example",id:"humanoid-head-example",level:3},{value:"Humanoid Arm Example",id:"humanoid-arm-example",level:3},{value:"Advanced URDF Features",id:"advanced-urdf-features",level:2},{value:"Transmission Elements",id:"transmission-elements",level:3},{value:"Gazebo-Specific Elements",id:"gazebo-specific-elements",level:3},{value:"Using Xacro for Complex Models",id:"using-xacro-for-complex-models",level:3},{value:"Humanoid Robot URDF Best Practices",id:"humanoid-robot-urdf-best-practices",level:2},{value:"1. Proper Mass Distribution",id:"1-proper-mass-distribution",level:3},{value:"2. Realistic Joint Limits",id:"2-realistic-joint-limits",level:3},{value:"3. Consistent Units",id:"3-consistent-units",level:3},{value:"4. Hierarchical Structure",id:"4-hierarchical-structure",level:3},{value:"URDF Validation and Tools",id:"urdf-validation-and-tools",level:2},{value:"URDF Validation",id:"urdf-validation",level:3},{value:"Visualization Tools",id:"visualization-tools",level:3},{value:"Common URDF Issues and Solutions",id:"common-urdf-issues-and-solutions",level:2},{value:"1. Floating Point Issues",id:"1-floating-point-issues",level:3},{value:"2. Self-Collision Issues",id:"2-self-collision-issues",level:3},{value:"3. Inertial Issues",id:"3-inertial-issues",level:3},{value:"Summary",id:"summary",level:2}];function c(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"chapter-3-urdf-for-humanoid-robot-description-and-modeling",children:"Chapter 3: URDF for Humanoid Robot Description and Modeling"})}),"\n",(0,r.jsx)(e.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,r.jsx)(e.p,{children:"By the end of this chapter, you will be able to:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Understand the fundamentals of URDF (Unified Robot Description Format)"}),"\n",(0,r.jsx)(e.li,{children:"Create URDF models for humanoid robots"}),"\n",(0,r.jsx)(e.li,{children:"Define links, joints, and their properties"}),"\n",(0,r.jsx)(e.li,{children:"Incorporate visual, collision, and inertial elements"}),"\n",(0,r.jsx)(e.li,{children:"Apply best practices for humanoid robot modeling"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"introduction-to-urdf",children:"Introduction to URDF"}),"\n",(0,r.jsx)(e.p,{children:"URDF (Unified Robot Description Format) is an XML-based format used in ROS to describe robot models. It defines the physical and visual properties of a robot, including its links (rigid parts), joints (connections between links), and other properties like inertial characteristics, visual appearance, and collision properties."}),"\n",(0,r.jsx)(e.p,{children:"URDF is essential for:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Robot simulation in Gazebo"}),"\n",(0,r.jsx)(e.li,{children:"Robot visualization in RViz"}),"\n",(0,r.jsx)(e.li,{children:"Kinematic analysis"}),"\n",(0,r.jsx)(e.li,{children:"Motion planning"}),"\n",(0,r.jsx)(e.li,{children:"Control algorithms"}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"urdf-structure-and-components",children:"URDF Structure and Components"}),"\n",(0,r.jsx)(e.h3,{id:"basic-urdf-structure",children:"Basic URDF Structure"}),"\n",(0,r.jsx)(e.p,{children:"A basic URDF file has the following structure:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot name="my_robot">\n  \x3c!-- Links --\x3e\n  <link name="base_link">\n    \x3c!-- Link properties --\x3e\n  </link>\n\n  \x3c!-- Joints --\x3e\n  <joint name="joint_name" type="joint_type">\n    <parent link="parent_link_name"/>\n    <child link="child_link_name"/>\n    \x3c!-- Joint properties --\x3e\n  </joint>\n</robot>\n'})}),"\n",(0,r.jsx)(e.h3,{id:"links",children:"Links"}),"\n",(0,r.jsx)(e.p,{children:"A link represents a rigid part of the robot. Each link can have multiple properties:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<link name="link_name">\n  \x3c!-- Inertial properties --\x3e\n  <inertial>\n    <origin xyz="0 0 0" rpy="0 0 0"/>\n    <mass value="1.0"/>\n    <inertia ixx="1.0" ixy="0.0" ixz="0.0" iyy="1.0" iyz="0.0" izz="1.0"/>\n  </inertial>\n\n  \x3c!-- Visual properties --\x3e\n  <visual>\n    <origin xyz="0 0 0" rpy="0 0 0"/>\n    <geometry>\n      <box size="1 1 1"/>\n    </geometry>\n    <material name="blue">\n      <color rgba="0 0 1 1"/>\n    </material>\n  </visual>\n\n  \x3c!-- Collision properties --\x3e\n  <collision>\n    <origin xyz="0 0 0" rpy="0 0 0"/>\n    <geometry>\n      <box size="1 1 1"/>\n    </geometry>\n  </collision>\n</link>\n'})}),"\n",(0,r.jsx)(e.h3,{id:"joints",children:"Joints"}),"\n",(0,r.jsx)(e.p,{children:"Joints connect links and define how they can move relative to each other:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<joint name="joint_name" type="joint_type">\n  <parent link="parent_link_name"/>\n  <child link="child_link_name"/>\n  <origin xyz="0 0 0" rpy="0 0 0"/>\n  <axis xyz="1 0 0"/>\n  <limit lower="-3.14" upper="3.14" effort="100" velocity="1"/>\n</joint>\n'})}),"\n",(0,r.jsx)(e.h2,{id:"joint-types",children:"Joint Types"}),"\n",(0,r.jsx)(e.h3,{id:"1-fixed-joint",children:"1. Fixed Joint"}),"\n",(0,r.jsx)(e.p,{children:"A fixed joint has no degrees of freedom:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<joint name="fixed_joint" type="fixed">\n  <parent link="parent_link"/>\n  <child link="child_link"/>\n  <origin xyz="0.1 0 0" rpy="0 0 0"/>\n</joint>\n'})}),"\n",(0,r.jsx)(e.h3,{id:"2-revolute-joint",children:"2. Revolute Joint"}),"\n",(0,r.jsx)(e.p,{children:"A revolute joint rotates around a single axis:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<joint name="revolute_joint" type="revolute">\n  <parent link="parent_link"/>\n  <child link="child_link"/>\n  <origin xyz="0 0 0" rpy="0 0 0"/>\n  <axis xyz="0 0 1"/>\n  <limit lower="-1.57" upper="1.57" effort="10" velocity="1"/>\n</joint>\n'})}),"\n",(0,r.jsx)(e.h3,{id:"3-continuous-joint",children:"3. Continuous Joint"}),"\n",(0,r.jsx)(e.p,{children:"Similar to revolute but without joint limits:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<joint name="continuous_joint" type="continuous">\n  <parent link="parent_link"/>\n  <child link="child_link"/>\n  <origin xyz="0 0 0" rpy="0 0 0"/>\n  <axis xyz="0 0 1"/>\n</joint>\n'})}),"\n",(0,r.jsx)(e.h3,{id:"4-prismatic-joint",children:"4. Prismatic Joint"}),"\n",(0,r.jsx)(e.p,{children:"A prismatic joint moves linearly along an axis:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<joint name="prismatic_joint" type="prismatic">\n  <parent link="parent_link"/>\n  <child link="child_link"/>\n  <origin xyz="0 0 0" rpy="0 0 0"/>\n  <axis xyz="1 0 0"/>\n  <limit lower="0" upper="0.5" effort="10" velocity="1"/>\n</joint>\n'})}),"\n",(0,r.jsx)(e.h2,{id:"visual-and-collision-elements",children:"Visual and Collision Elements"}),"\n",(0,r.jsx)(e.h3,{id:"visual-elements",children:"Visual Elements"}),"\n",(0,r.jsx)(e.p,{children:"Visual elements define how the robot appears in visualization tools:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<visual>\n  <origin xyz="0 0 0" rpy="0 0 0"/>\n  <geometry>\n    \x3c!-- Box --\x3e\n    <box size="0.1 0.1 0.1"/>\n    \x3c!-- Sphere --\x3e\n    \x3c!-- <sphere radius="0.05"/> --\x3e\n    \x3c!-- Cylinder --\x3e\n    \x3c!-- <cylinder radius="0.05" length="0.1"/> --\x3e\n    \x3c!-- Mesh --\x3e\n    \x3c!-- <mesh filename="package://my_robot/meshes/link.dae"/> --\x3e\n  </geometry>\n  <material name="red">\n    <color rgba="1 0 0 1"/>\n  </material>\n</visual>\n'})}),"\n",(0,r.jsx)(e.h3,{id:"collision-elements",children:"Collision Elements"}),"\n",(0,r.jsx)(e.p,{children:"Collision elements define the collision properties for physics simulation:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<collision>\n  <origin xyz="0 0 0" rpy="0 0 0"/>\n  <geometry>\n    <box size="0.1 0.1 0.1"/>\n  </geometry>\n</collision>\n'})}),"\n",(0,r.jsx)(e.h2,{id:"inertial-properties",children:"Inertial Properties"}),"\n",(0,r.jsx)(e.p,{children:"Inertial properties are crucial for physics simulation:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<inertial>\n  <origin xyz="0 0 0" rpy="0 0 0"/>\n  <mass value="1.0"/>\n  <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.01"/>\n</inertial>\n'})}),"\n",(0,r.jsx)(e.p,{children:"The inertia values depend on the shape and mass distribution. For common shapes:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Box"}),": ",(0,r.jsx)(e.code,{children:"ixx = m/12 * (h\ufffd + d\ufffd)"}),", ",(0,r.jsx)(e.code,{children:"iyy = m/12 * (w\ufffd + d\ufffd)"}),", ",(0,r.jsx)(e.code,{children:"izz = m/12 * (w\ufffd + h\ufffd)"})]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Cylinder"}),": ",(0,r.jsx)(e.code,{children:"ixx = iyy = m/12 * (3*r\ufffd + h\ufffd)"}),", ",(0,r.jsx)(e.code,{children:"izz = m/2 * r\ufffd"})]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Sphere"}),": ",(0,r.jsx)(e.code,{children:"ixx = iyy = izz = 2/5 * m * r\ufffd"})]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"complete-urdf-example---simple-robot",children:"Complete URDF Example - Simple Robot"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot name="simple_robot">\n  \x3c!-- Base link --\x3e\n  <link name="base_link">\n    <visual>\n      <geometry>\n        <cylinder radius="0.2" length="0.1"/>\n      </geometry>\n      <material name="blue">\n        <color rgba="0 0 1 1"/>\n      </material>\n    </visual>\n    <collision>\n      <geometry>\n        <cylinder radius="0.2" length="0.1"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="1.0"/>\n      <origin xyz="0 0 0"/>\n      <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.02"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Upper body --\x3e\n  <link name="upper_body">\n    <visual>\n      <geometry>\n        <box size="0.3 0.3 0.6"/>\n      </geometry>\n      <material name="white">\n        <color rgba="1 1 1 1"/>\n      </material>\n    </visual>\n    <collision>\n      <geometry>\n        <box size="0.3 0.3 0.6"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="2.0"/>\n      <origin xyz="0 0 0"/>\n      <inertia ixx="0.1" ixy="0.0" ixz="0.0" iyy="0.1" iyz="0.0" izz="0.05"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Joint connecting base to upper body --\x3e\n  <joint name="base_upper_joint" type="fixed">\n    <parent link="base_link"/>\n    <child link="upper_body"/>\n    <origin xyz="0 0 0.35" rpy="0 0 0"/>\n  </joint>\n</robot>\n'})}),"\n",(0,r.jsx)(e.h2,{id:"humanoid-robot-urdf-modeling",children:"Humanoid Robot URDF Modeling"}),"\n",(0,r.jsx)(e.h3,{id:"humanoid-robot-structure",children:"Humanoid Robot Structure"}),"\n",(0,r.jsx)(e.p,{children:"A humanoid robot typically consists of:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Torso (trunk)"}),"\n",(0,r.jsx)(e.li,{children:"Head"}),"\n",(0,r.jsx)(e.li,{children:"Two arms (with shoulders, elbows, wrists)"}),"\n",(0,r.jsx)(e.li,{children:"Two legs (with hips, knees, ankles)"}),"\n",(0,r.jsx)(e.li,{children:"Hands and feet"}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"humanoid-torso-example",children:"Humanoid Torso Example"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<link name="torso">\n  <visual>\n    <geometry>\n      <box size="0.3 0.2 0.5"/>\n    </geometry>\n    <material name="light_gray">\n      <color rgba="0.7 0.7 0.7 1"/>\n    </material>\n  </visual>\n  <collision>\n    <geometry>\n      <box size="0.3 0.2 0.5"/>\n    </geometry>\n  </collision>\n  <inertial>\n    <mass value="10.0"/>\n    <origin xyz="0 0 0"/>\n    <inertia ixx="0.5" ixy="0" ixz="0" iyy="0.6" iyz="0" izz="0.2"/>\n  </inertial>\n</link>\n'})}),"\n",(0,r.jsx)(e.h3,{id:"humanoid-head-example",children:"Humanoid Head Example"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<link name="head">\n  <visual>\n    <geometry>\n      <sphere radius="0.1"/>\n    </geometry>\n    <material name="skin">\n      <color rgba="0.8 0.6 0.4 1"/>\n    </material>\n  </visual>\n  <collision>\n    <geometry>\n      <sphere radius="0.1"/>\n    </geometry>\n  </collision>\n  <inertial>\n    <mass value="2.0"/>\n    <origin xyz="0 0 0"/>\n    <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.01"/>\n  </inertial>\n</link>\n\n<joint name="neck_joint" type="revolute">\n  <parent link="torso"/>\n  <child link="head"/>\n  <origin xyz="0 0 0.35" rpy="0 0 0"/>\n  <axis xyz="0 1 0"/>\n  <limit lower="-0.5" upper="0.5" effort="10" velocity="1"/>\n</joint>\n'})}),"\n",(0,r.jsx)(e.h3,{id:"humanoid-arm-example",children:"Humanoid Arm Example"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'\x3c!-- Left shoulder --\x3e\n<link name="left_upper_arm">\n  <visual>\n    <geometry>\n      <cylinder radius="0.05" length="0.3"/>\n    </geometry>\n    <material name="light_gray">\n      <color rgba="0.7 0.7 0.7 1"/>\n    </material>\n  </visual>\n  <collision>\n    <geometry>\n      <cylinder radius="0.05" length="0.3"/>\n    </geometry>\n  </collision>\n  <inertial>\n    <mass value="1.5"/>\n    <origin xyz="0 0 0.15"/>\n    <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.001"/>\n  </inertial>\n</link>\n\n<joint name="left_shoulder_joint" type="revolute">\n  <parent link="torso"/>\n  <child link="left_upper_arm"/>\n  <origin xyz="0.2 0 0.2" rpy="0 0 0"/>\n  <axis xyz="0 1 0"/>\n  <limit lower="-1.57" upper="1.57" effort="15" velocity="1"/>\n</joint>\n\n\x3c!-- Left elbow --\x3e\n<link name="left_lower_arm">\n  <visual>\n    <geometry>\n      <cylinder radius="0.04" length="0.25"/>\n    </geometry>\n    <material name="light_gray">\n      <color rgba="0.7 0.7 0.7 1"/>\n    </material>\n  </visual>\n  <collision>\n    <geometry>\n      <cylinder radius="0.04" length="0.25"/>\n    </geometry>\n  </collision>\n  <inertial>\n    <mass value="1.0"/>\n    <origin xyz="0 0 0.125"/>\n    <inertia ixx="0.005" ixy="0" ixz="0" iyy="0.005" iyz="0" izz="0.0005"/>\n  </inertial>\n</link>\n\n<joint name="left_elbow_joint" type="revolute">\n  <parent link="left_upper_arm"/>\n  <child link="left_lower_arm"/>\n  <origin xyz="0 0 0.3" rpy="0 0 0"/>\n  <axis xyz="0 0 1"/>\n  <limit lower="0" upper="2.35" effort="10" velocity="1"/>\n</joint>\n'})}),"\n",(0,r.jsx)(e.h2,{id:"advanced-urdf-features",children:"Advanced URDF Features"}),"\n",(0,r.jsx)(e.h3,{id:"transmission-elements",children:"Transmission Elements"}),"\n",(0,r.jsx)(e.p,{children:"Transmission elements define how actuators connect to joints:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<transmission name="left_shoulder_trans">\n  <type>transmission_interface/SimpleTransmission</type>\n  <joint name="left_shoulder_joint">\n    <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>\n  </joint>\n  <actuator name="left_shoulder_motor">\n    <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>\n    <mechanicalReduction>1</mechanicalReduction>\n  </actuator>\n</transmission>\n'})}),"\n",(0,r.jsx)(e.h3,{id:"gazebo-specific-elements",children:"Gazebo-Specific Elements"}),"\n",(0,r.jsx)(e.p,{children:"Gazebo-specific elements can be included in URDF:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<gazebo reference="left_upper_arm">\n  <material>Gazebo/Blue</material>\n  <mu1>0.2</mu1>\n  <mu2>0.2</mu2>\n</gazebo>\n'})}),"\n",(0,r.jsx)(e.h3,{id:"using-xacro-for-complex-models",children:"Using Xacro for Complex Models"}),"\n",(0,r.jsx)(e.p,{children:"Xacro (XML Macros) helps create complex URDF models:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="humanoid_robot">\n  \x3c!-- Define properties --\x3e\n  <xacro:property name="M_PI" value="3.1415926535897931" />\n  <xacro:property name="arm_length" value="0.3" />\n  <xacro:property name="arm_radius" value="0.05" />\n\n  \x3c!-- Macro for arm --\x3e\n  <xacro:macro name="arm" params="side parent xyz rpy">\n    <link name="${side}_upper_arm">\n      <visual>\n        <geometry>\n          <cylinder radius="${arm_radius}" length="${arm_length}"/>\n        </geometry>\n        <material name="light_gray">\n          <color rgba="0.7 0.7 0.7 1"/>\n        </material>\n      </visual>\n      <collision>\n        <geometry>\n          <cylinder radius="${arm_radius}" length="${arm_length}"/>\n        </geometry>\n      </collision>\n      <inertial>\n        <mass value="1.5"/>\n        <origin xyz="0 0 ${arm_length/2}"/>\n        <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.001"/>\n      </inertial>\n    </link>\n\n    <joint name="${side}_shoulder_joint" type="revolute">\n      <parent link="${parent}"/>\n      <child link="${side}_upper_arm"/>\n      <origin xyz="${xyz}" rpy="${rpy}"/>\n      <axis xyz="0 1 0"/>\n      <limit lower="-1.57" upper="1.57" effort="15" velocity="1"/>\n    </joint>\n  </xacro:macro>\n\n  \x3c!-- Use the macro --\x3e\n  <xacro:arm side="left" parent="torso" xyz="0.2 0 0.2" rpy="0 0 0"/>\n  <xacro:arm side="right" parent="torso" xyz="-0.2 0 0.2" rpy="0 0 0"/>\n</robot>\n'})}),"\n",(0,r.jsx)(e.h2,{id:"humanoid-robot-urdf-best-practices",children:"Humanoid Robot URDF Best Practices"}),"\n",(0,r.jsx)(e.h3,{id:"1-proper-mass-distribution",children:"1. Proper Mass Distribution"}),"\n",(0,r.jsx)(e.p,{children:"Ensure realistic mass distribution for stable simulation:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'\x3c!-- Example: Proper mass for humanoid links --\x3e\n<link name="torso">\n  <inertial>\n    <mass value="15.0"/> \x3c!-- Realistic for human torso --\x3e\n    <origin xyz="0 0 0"/>\n    <inertia ixx="0.8" ixy="0" ixz="0" iyy="0.6" iyz="0" izz="0.3"/>\n  </inertial>\n</link>\n'})}),"\n",(0,r.jsx)(e.h3,{id:"2-realistic-joint-limits",children:"2. Realistic Joint Limits"}),"\n",(0,r.jsx)(e.p,{children:"Set appropriate joint limits based on human anatomy:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'\x3c!-- Shoulder joint with realistic limits --\x3e\n<joint name="left_shoulder_joint" type="revolute">\n  <parent link="torso"/>\n  <child link="left_upper_arm"/>\n  <origin xyz="0.15 0.1 0.2" rpy="0 0 0"/>\n  <axis xyz="0 1 0"/>\n  <limit lower="-2.0" upper="1.5" effort="50" velocity="2"/>\n</joint>\n'})}),"\n",(0,r.jsx)(e.h3,{id:"3-consistent-units",children:"3. Consistent Units"}),"\n",(0,r.jsx)(e.p,{children:"Always use consistent units (SI units: meters, kilograms, radians):"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'\x3c!-- Good: Consistent units --\x3e\n<geometry>\n  <box size="0.1 0.1 0.1"/> \x3c!-- meters --\x3e\n</geometry>\n<mass value="1.0"/> \x3c!-- kilograms --\x3e\n<limit lower="-1.57" upper="1.57"/> \x3c!-- radians --\x3e\n'})}),"\n",(0,r.jsx)(e.h3,{id:"4-hierarchical-structure",children:"4. Hierarchical Structure"}),"\n",(0,r.jsx)(e.p,{children:"Organize links in a logical hierarchical structure:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"base_footprint\n\x14\ufffd\ufffd base_link (pelvis)\n    \x1c\ufffd\ufffd torso\n    \x02   \x1c\ufffd\ufffd head\n    \x02   \x1c\ufffd\ufffd left_upper_arm\n    \x02   \x02   \x14\ufffd\ufffd left_lower_arm\n    \x02   \x02       \x14\ufffd\ufffd left_hand\n    \x02   \x14\ufffd\ufffd right_upper_arm\n    \x02       \x14\ufffd\ufffd right_lower_arm\n    \x02           \x14\ufffd\ufffd right_hand\n    \x1c\ufffd\ufffd left_upper_leg\n    \x02   \x14\ufffd\ufffd left_lower_leg\n    \x02       \x14\ufffd\ufffd left_foot\n    \x14\ufffd\ufffd right_upper_leg\n        \x14\ufffd\ufffd right_lower_leg\n            \x14\ufffd\ufffd right_foot\n"})}),"\n",(0,r.jsx)(e.h2,{id:"urdf-validation-and-tools",children:"URDF Validation and Tools"}),"\n",(0,r.jsx)(e.h3,{id:"urdf-validation",children:"URDF Validation"}),"\n",(0,r.jsx)(e.p,{children:"Validate your URDF files using ROS tools:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"# Check for errors in URDF\ncheck_urdf my_robot.urdf\n\n# Parse and display robot information\nurdf_to_graphiz my_robot.urdf\n"})}),"\n",(0,r.jsx)(e.h3,{id:"visualization-tools",children:"Visualization Tools"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"RViz"}),": For visualizing robot models"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Gazebo"}),": For physics simulation"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Robot Model Plugin"}),": For detailed model inspection"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"common-urdf-issues-and-solutions",children:"Common URDF Issues and Solutions"}),"\n",(0,r.jsx)(e.h3,{id:"1-floating-point-issues",children:"1. Floating Point Issues"}),"\n",(0,r.jsx)(e.p,{children:"Use appropriate precision:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'\x3c!-- Instead of --\x3e\n<origin xyz="0.12345678901234567" rpy="0.98765432109876543"/>\n\n\x3c!-- Use --\x3e\n<origin xyz="0.123" rpy="0.987"/>\n'})}),"\n",(0,r.jsx)(e.h3,{id:"2-self-collision-issues",children:"2. Self-Collision Issues"}),"\n",(0,r.jsx)(e.p,{children:"Define appropriate collision properties:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'\x3c!-- Prevent self-collision between adjacent links if needed --\x3e\n<collision>\n  <geometry>\n    <cylinder radius="0.04" length="0.2"/>\n  </geometry>\n  <origin xyz="0 0 0.1" rpy="0 0 0"/>\n</collision>\n'})}),"\n",(0,r.jsx)(e.h3,{id:"3-inertial-issues",children:"3. Inertial Issues"}),"\n",(0,r.jsx)(e.p,{children:"Calculate realistic inertial properties:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'\x3c!-- Good approximation for complex shapes --\x3e\n<inertial>\n  <mass value="2.0"/>\n  <origin xyz="0 0 0"/>\n  \x3c!-- Use simplified geometric approximation --\x3e\n  <inertia ixx="0.1" ixy="0" ixz="0" iyy="0.1" iyz="0" izz="0.05"/>\n</inertial>\n'})}),"\n",(0,r.jsx)(e.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsx)(e.p,{children:"This chapter covered the fundamentals of URDF modeling for humanoid robots, including:"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Basic URDF structure and components (links, joints, visual, collision, inertial)"}),"\n",(0,r.jsx)(e.li,{children:"Different joint types and their applications"}),"\n",(0,r.jsx)(e.li,{children:"Visual and collision properties for realistic modeling"}),"\n",(0,r.jsx)(e.li,{children:"Inertial properties for physics simulation"}),"\n",(0,r.jsx)(e.li,{children:"Advanced features like transmissions and Xacro"}),"\n",(0,r.jsx)(e.li,{children:"Best practices for humanoid robot modeling"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"URDF is crucial for creating accurate robot models that can be used in simulation, visualization, and control. Proper modeling ensures realistic behavior in simulated environments and accurate kinematic analysis for real-world applications."})]})}function m(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(c,{...n})}):c(n)}},8453(n,e,i){i.d(e,{R:()=>s,x:()=>a});var l=i(6540);const r={},o=l.createContext(r);function s(n){const e=l.useContext(o);return l.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:s(n.components),l.createElement(o.Provider,{value:e},n.children)}}}]);